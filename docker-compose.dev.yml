version: '3.8'

services:
  setlist:
    build:
      context: .
      dockerfile: Dockerfile.dev
    container_name: setlist-dev
    ports:
      - "8080:8080"    # Web UI
      - "5001:5000"    # API (mapped to 5001 on host)
    volumes:
      - ./config:/config
      - /Volumes/Media/Music:/music  # SMB share from 10.0.30.159
      - /Volumes/Media/radio:/radio  # Radio recordings mount
      - ./backend:/app/backend  # Hot reload for backend
      - ./frontend/src:/app/frontend/src  # Hot reload for frontend src only
    environment:
      - MUSIC_DIR=/music
      - CONFIG_DIR=/config
      - TZ=America/New_York
