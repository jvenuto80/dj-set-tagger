version: '3.8'

services:
  dj-set-tagger:
    build:
      context: .
      dockerfile: Dockerfile.dev
    container_name: dj-set-tagger-dev
    ports:
      - "8080:8080"    # Web UI
      - "5000:5000"    # API
    volumes:
      - ./config:/config
      - ./test-music:/music  # Local test music folder
      - ./backend:/app/backend  # Hot reload for backend
    environment:
      - MUSIC_DIR=/music
      - CONFIG_DIR=/config
      - SCAN_EXTENSIONS=mp3,flac,wav,m4a,aac,ogg
      - TZ=America/New_York
